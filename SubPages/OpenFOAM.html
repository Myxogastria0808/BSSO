<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://myxogastria0808.github.io/BSSO/SubPages/OpenFOAM.css">
    <link href="http://fonts.cdnfonts.com/css/ocr-a-extended" rel="stylesheet">
    <style>
        @import url('http://fonts.cdnfonts.com/css/ocr-a-extended');
    </style>
    <link rel="stylesheet"
    href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <title>OpenFOAM</title>
</head>
<body>
    <nav>
        <input type="checkbox" id="phone_check">
        <span class="phone span1 span"></span>
        <span class="phone span2 span"></span>
        <span class="phone span3 span"></span>
        <label class="phone label" for="phone_check"></label>
        <ul class="phone ul">
          <br></br>
          <br></br>
          <a class="phone a" href="https://myxogastria0808.github.io/BSSO/" target="_blank"  rel="noopener noreferrer">
            <li class="phone li">Top</li>
          </a>
          <a class="phone a" href="./Outline.html" target="_blank"  rel="noopener noreferrer">
              <li class="phone li">Outline</li>
          </a>
          <a class="phone a" href="./blender.html" target="_blank"  rel="noopener noreferrer">
            <li class="phone li">blender</li>
          </a>
          <a class="phone a" href="./XSim.html" target="_blank"  rel="noopener noreferrer">
            <li class="phone li">XSim</li>
          </a>
          <a class="phone a" href="./OpenFOAM.html" target="_blank"  rel="noopener noreferrer">
            <li class="phone li">OpenFOAM</li>
          </a>
        </ul>
    </nav>

    <img class="top_logo" src="./3D_simuration_tablet.png" alt="Top logo">
    <img id="OpenFOAM_img" src="./OpenFOAM.png">
    <h1 id="title">OpenFOAM</h1>
    <h2 id="subtitle">What is OpenFOAM ?</h2>
    <p id="p">OpenFOAM is a open source program that serves to solve the analysis setting data created by XSim.</p>
    <h2 id="subtitle">How to control ?</h2>
    <h2 id="protocol">Protocol</h2>
    <h2 id="protocol">---1---</h2>
    <h2 id="subtitle">Download software and a Dockerflie.</h2>
    <p id="p">[Software download link]</p>
    <a href="https://www.paraview.org/download/" target="_blank"  rel="noopener noreferrer">
        <p id="p">ParaView: This is a open source program for visualization and interactive operation of 3D simulation.</p>
    </a>
    <p id="p">[Dockerfile download link]</p>
    <a href="https://drive.google.com/file/d/16BfIpx-495uwRA6hHMwqUSsjwKNREyQq/view?usp=sharing" target="_blank"  rel="noopener noreferrer">
        <p id="p">Dockerfile: This file can create a docker image OpenFOAM8 and JupyterLab.</p>
    </a>
    <h2 id="protocol">---2---</h2>
    <h2 id="subtitle">Open your terminal and copy and paste under the commands.</h2>
    <p id="p">[Commands to be entered]</p>
    <p id="p">1. Build a docker image</p>
    <input id="docker_id" type="text" value="docker build -t BSSO:1.0 ." readonly>
    <button onclick="docker_id_func()">Copy code</button>
    <script>
        function docker_id_func() {
            // コピー対象をJavaScript上で変数として定義する
            var docker_id = document.getElementById("docker_id");

            // コピー対象のテキストを選択する
            docker_id.select();

            // 選択しているテキストをクリップボードにコピーする
            document.execCommand("Copy");

            // コピーをお知らせする
            alert("Copying is complete! : " + docker_id.value);
        }
    </script>

<!-- 
    <p id="p">2. Research your docker image ID</p>
    <p id="p">Examples of information displayed)</p>
    <p id="p">REPOSITORY&emsp;TAG&emsp;IMAGE&nbsp;ID&emsp;CREATED&emsp;SIZE</p>
    <p id="p">&lt;none&gt; &emsp; &lt;none&gt; &emsp; abcdef123456&lt;--copy This ID! &emsp; 46 hours ago &emsp; 3.63GB</p>
    <input id="docker_img" type="text" value="docker image ls" readonly>
    <button onclick="docker_img_func()">Copy code</button>
    <script>
        function docker_img_func() {
            // コピー対象をJavaScript上で変数として定義する
            var docker_img = document.getElementById("docker_img");

            // コピー対象のテキストを選択する
            docker_img.select();

            // 選択しているテキストをクリップボードにコピーする
            document.execCommand("Copy");

            // コピーをお知らせする
            alert("Copying is complete! : " + docker_img.value);
        }
    </script> -->

    <p id="p">2. Run the docker image and create a docker container</p>
    <p id="p">*Caution1* The part in [ ] have to be changed according to your PC environment.</p>
    <p id="p">*Caution2* You have to set your absolute path which has unzipped your XSim project files to first [ ] area( = [Synchronize the files of the simulation generated in the Docker container you created (enter the absolute path of your HOSTPC)])</p>
    <input id="docker_run" type="text" value="docker run -it --name simulator -v [Synchronize the files of the simulation generated in the Docker container you created (enter the absolute path of your HOSTPC)]:/home/OpenFOAM -p 8888:8888 --workdir /home/OpenFOAM BSSO:1.0 /bin/bash" readonly>
    <button onclick="docker_run_func()">Copy code</button>
    <script>
        function docker_run_func() {
            // コピー対象をJavaScript上で変数として定義する
            var docker_run = document.getElementById("docker_run");

            // コピー対象のテキストを選択する
            docker_run.select();

            // 選択しているテキストをクリップボードにコピーする
            document.execCommand("Copy");

            // コピーをお知らせする
            alert("Copying is complete! : " + docker_run.value);
        }
    </script>
    
    <p id="p">4. Start JupyterLab</p>
    <input id="jupyter" type="text" value="jupyter lab --ip=0.0.0.0 --allow-root" readonly>
    <button onclick="jupyter_func()">Copy code</button>
    <script>
        function jupyter_func() {
            // コピー対象をJavaScript上で変数として定義する
            var jupyter = document.getElementById("jupyter");

            // コピー対象のテキストを選択する
            jupyter.select();

            // 選択しているテキストをクリップボードにコピーする
            document.execCommand("Copy");

            // コピーをお知らせする
            alert("Copying is complete! : " + jupyter.value);
        }
    </script>

<p id="p">5. Move your project folder`s directry</p>
<p id="p">*Caution* The part in [ ] have to be changed according to your PC environment.</p>
<input id="cd" type="text" value="cd [YourProjectName]" readonly>
<button onclick="cd_func()">Copy code</button>
<script>
    function cd_func() {
        // コピー対象をJavaScript上で変数として定義する
        var cd = document.getElementById("cd");

        // コピー対象のテキストを選択する
        cd.select();

        // 選択しているテキストをクリップボードにコピーする
        document.execCommand("Copy");

        // コピーをお知らせする
        alert("Copying is complete! : " + cd.value);
    }
</script>

<p id="p">6. Change your project folder`s administrator privileges</p>
<input id="chmod" type="text" value="chmod +x All*" readonly>
<button onclick="chmod_func()">Copy code</button>
<script>
    function chmod_func() {
        // コピー対象をJavaScript上で変数として定義する
        var chmod = document.getElementById("chmod");

        // コピー対象のテキストを選択する
        chmod.select();

        // 選択しているテキストをクリップボードにコピーする
        document.execCommand("Copy");

        // コピーをお知らせする
        alert("Copying is complete! : " + chmod.value);
    }
</script>

<p id="p">7. Calculate your project with OpenFOAM8</p>
<input id="allrun" type="text" value="./Allrun" readonly>
<button onclick="allrun_func()">Copy code</button>
<script>
    function allrun_func() {
        // コピー対象をJavaScript上で変数として定義する
        var allrun = document.getElementById("allrun");

        // コピー対象のテキストを選択する
        allrun.select();

        // 選択しているテキストをクリップボードにコピーする
        document.execCommand("Copy");

        // コピーをお知らせする
        alert("Copying is complete! : " + allrun.value);
    }
</script>
<p id="p">8. Wait patiently!</p>

<h2 id="protocol">---3---</h2>
<h2 id="subtitle">Start ParaView and visualize your project</h2>
<p id="p">When your PC finish calculating your project, please start ParaView and follow these steps.</p>
<p id="p">1. Open your project folder as shown in the following image</p>
<img class="OpenFOAM_img" src="./PARA1.png">
<p id="p">2. Select "All Files(*)"</p>
<img class="OpenFOAM_img_h" src="./PARA2.png">
<p id="p">3. Select the "YourProjectName.OpenFOAM" file</p>
<img class="OpenFOAM_img_ss" src="./PARA3.png">
<p id="p">4. Select the "OpenFOAMReader"</p>
<img class="OpenFOAM_img" src="./PARA4.png">
<p id="p">5. Click "Apply" button</p>
<img class="OpenFOAM_img_s" src="./PARA5.png">
<p id="p">6. Change "Opacity" value</p>
<img class="OpenFOAM_img" src="./PARA6.png">
<p id="p">＊＊How to make simulation results easier to read＊＊</p>
<p id="p">These are some options to make your simulation results easier to see</p>
<img class="OpenFOAM_img" src="./PARA7.png">
<p id="p">[How to add slicer into your project]</p>
<p id="p">1. Click slice button</p>
<p id="p">2. Adjust a slice position</p>
<p id="p">3. Click "Apply" button</p>
<img class="OpenFOAM_img" src="./PARA8.png">
<p id="p">finish!</p>
<img class="OpenFOAM_img" src="./PARA9.png">
<h1 id="FinMain">Complete!!</h1>
<h2 id="Fin">Thank you for your hard work!!!</h2>
</body>
</html>